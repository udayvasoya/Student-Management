<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Document</title>

<link rel="stylesheet" href="./style.css">

<!-- bootstrap -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet" />

<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- fafaicone -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<!-- google font -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
	href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Fredericka+the+Great&family=Lilita+One&family=Monoton&family=Passion+One:wght@700&family=Secular+One&display=swap"
	rel="stylesheet" />
<!-- Link Swiper's CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>


<!-- lord icons -->
<script src="https://cdn.lordicon.com/lordicon.js"></script>
</head>
<body id="bodyy">
	<div class="wrapper">
		<nav class="navbar navbar-expand-lg fixed-top" id="navcolor">
			<div class="container-fluid">
				<div class="navbar-brand">
					<h3 class="text-white menutexxt">UV</h3>
				</div>
				<button class="navbar-toggler text-white" type="button"
					data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent" aria-expanded="false"
					aria-label="Toggle navigation">
					<i id="navfafa" class="fa fa-bars" aria-hidden="true"></i>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item"><a id="navbarr"
							class="nav-link text-white" href="#">Home</a></li>
						<li class="nav-item"><a id="navbarr"
							class="nav-link text-white" href="#">About</a></li>
						<li class="nav-item dropdown"><a id="navbarr"
							class="nav-link text-white dropdown-toggle" href="#"
							role="button" data-bs-toggle="dropdown" aria-expanded="false">
								Tours </a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="#">Tours 1</a></li>
								<li><a class="dropdown-item" href="#">Tours 2</a></li>
								<li><a class="dropdown-item" href="#">Tours 3</a></li>
								<li><a class="dropdown-item" href="#">Tours 4</a></li>
							</ul></li>
						<li class="nav-item"><a id="navbarr"
							class="nav-link text-white" href="#">Destinations</a></li>
						<li class="nav-item"><a id="navbarr"
							class="nav-link text-white" href="#">Gallery</a></li>
					</ul>
					<ul class="collapse navbar-collapse" id="navbarSupportedContent" style="list-style: none">
					<li><p id="time" class="bg-danger text-white p-0">Welcome
								back ... &#128515;</p></li>
					</ul>
					<ul class="logout mb-2 mb-lg-0" style="list-style: none">
						<li class="nav-item "><a href="/WebProject/login.html"
							id="logoutBtn">
								<button class="btn btn-info d-inline-block ml-auto"
									type="button">Log-out</button>
						</a></li>
					
					</ul>
					<ul class="logout mb-2 mb-lg-0" style="list-style: none">
					<li><h3 id="username" class="text-white menutexxt"></h3></li>
					</ul>
					
				</div>
			</div>
		</nav>
		<!-- ======================================================================================== -->


		<div class="container-fluid text-white" id="dark">
			<div class="container">
				<small class="smal mb-2">WELCOME TO WEBSITE OF</small>
				<h1 class="menutexxt">
					UDAY <span class="spann">VASOYA </span>
				</h1>
			</div>
		</div>


		<div class="container-fluid text-white py-5 text-center"
			id="feturemenu">
			<div class="container-fluid text-center py-5">
				<div class="row">
					<div class="col-sm-3 pb-2" id="feture">
						<a href="./addstud.html"> <lord-icon
								src="https://cdn.lordicon.com/zfmcashd.json" trigger="hover"
								style="width: 150px; height: 150px"> </lord-icon>
						</a>


						<h5>Add user</h5>
					</div>
					<div class="col-sm-3 pb-3" id="feture">
						<a href="./ShowAllData"> <lord-icon
								src="https://cdn.lordicon.com/zsaomnmb.json" trigger="hover"
								style="width: 150px; height: 150px"> </lord-icon>
						</a>
						<h5>Show user</h5>
					</div>
					<div class="col-sm-3 pb-3" id="feture">
						<a href="./updatestud.html"> <lord-icon
								src="https://cdn.lordicon.com/ylvuooxd.json" trigger="hover"
								style="width: 150px; height: 150px"> </lord-icon></a>
						<h5>Update user</h5>
					</div>
					<div class="col-sm-3 pb-3" id="feture">
						<a href="./deletestud.html"> <lord-icon
								src="https://cdn.lordicon.com/hjbrplwk.json" trigger="hover"
								style="width: 150px; height: 150px"> </lord-icon></a>
						<h5>Delete user</h5>
					</div>
				</div>
			</div>
		</div>

	</div>
	
	<!-- ==============================(Time out model)==================================================== -->
		<!-- Modal for time up -->
		<div class="modal fade" id="exampleModalTimeUp" tabindex="-1"
			aria-labelledby="exampleModalLabelTimeUp" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabelTimeUp">Time's
							Up!</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body">Your session has expired. Please log
						in again.</div>
					<div class="modal-footer">

						<a href="/WebProject/login.html" id="logoutBtn">
							<button class="btn btn-info">Log-In</button>
						</a>
					</div>
				</div>
			</div>
		</div>

	<div class="invalid-credentials"
		style="display: none; display: flex; align-items: center; justify-content: center; margin-top: 80px">
		<div style="text-align: center;">
			<img
				src="https://cdn.dribbble.com/users/3008811/screenshots/7090670/media/5a61f4778d6a527572a773c1f69001b8.gif"
				alt="" width="50%" height="50%" />
			<h5 style="margin: 0; color: white">Your credentials are invalid. Please log
				in.</p>
			<a href="/WebProject/login.html" id="logoutBtn">
				<button class="btn btn-info d-inline-block ml-auto mt-3"
					type="button">Log-In</button>
			</a>
		</div>


		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<!-- Include jQuery library -->
		<script type="text/javascript">
			$(document)
					.ready(
							function() {
								// Add click event listener to the sidebarCollapse button
								$("#sidebarCollapse").on(
										"click",
										function() {
											// Toggle the class 'active' for both sidebar and content
											$("#sidebar, #content")
													.toggleClass("active");
										});

								// Check if username exists in local storage
								var username = localStorage.getItem("userID");

								// Check if WelcomeMSG exists in local storage
								var welcomeMsgExists = localStorage
										.getItem("WelcomeMSG");

								// Show or hide content based on username existence
								if (username) {
									$("#username").text(username);
									$(".wrapper").show(); // Show the wrapper content
									$(".invalid-credentials").hide(); // Hide invalid credential message
									// Check if WelcomeMSG exists
									if (!welcomeMsgExists) {
										// Speak "Welcome"
										var utterance = new SpeechSynthesisUtterance(
												"Welcome back " + username);
										window.speechSynthesis.speak(utterance);
										localStorage
												.setItem("WelcomeMSG", true);

									}
								} else {
									$(".wrapper").hide(); // Hide the wrapper content
									$(".invalid-credentials").show(); // Show invalid credential message
								}

								// Add event listener to Log-out button
								$("#logoutBtn").on("click", function() {
									// Remove the username item and WelcomeMSG from localStorage
									localStorage.removeItem("userID");
									localStorage.removeItem("WelcomeMSG");
								});

								// Countdown timer function
								function startCountdown(minutes) {
									var seconds = minutes * 60;
									var countdownInterval = setInterval(
											function() {
												var minutesRemaining = Math
														.floor(seconds / 60);
												var secondsRemaining = seconds % 60;
												$("#time")
														.text(
																"Time remaining: "
																		+ minutesRemaining
																		+ "m "
																		+ secondsRemaining
																		+ "s");
												seconds--;
												if (seconds < 0) {
													clearInterval(countdownInterval);
													$("#exampleModalTimeUp")
															.modal("show"); // Show modal when time is up
													localStorage
															.removeItem("userID"); // Remove localStorage item
													localStorage
															.removeItem("WelcomeMSG"); // Remove localStorage item

													var utterance = new SpeechSynthesisUtterance(
															"Your session has expired. Please log in again.");
													window.speechSynthesis
															.speak(utterance);
												}
											}, 1000);
								}

								// Start the countdown when the document is ready
								startCountdown(20); // Change to the desired countdown time in minutes
							});
		</script>
</body>
</html>
